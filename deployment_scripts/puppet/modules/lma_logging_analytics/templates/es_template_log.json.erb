{
    "mappings": {
        "message": {
            "properties": {
                "Logger": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "Hostname": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "Pid": {
                    "index": "not_analyzed",
                    "type": "long"
                },
                "Severity": {
                    "index": "not_analyzed",
                    "type": "long"
                },
                "Type": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "programname": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "python_module": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "severity_label": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "environment_label": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "openstack_roles": {
                    "type": "string",
                    "analyzer": "ost_roles"
                },
                "openstack_region": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "openstack_release": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "deployment_id": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "request_id": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "tenant_id": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "user_id": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "instance_id": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "http_response_time": {
                    "type": "float"
                },
                "http_status": {
                    "type": "integer"
                },
                "http_method": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "http_url": {
                    "index": "not_analyzed",
                    "type": "string"
                },
                "http_version": {
                    "index": "not_analyzed",
                    "type": "string"
                }
            }
        }
    },
    "settings": {
        "analysis": {
            "tokenizer": {
                 "comma" : {
                     "type": "pattern",
                     "pattern": ","
                 }
            },
            "analyzer": {
                 "ost_roles": {
                     "type": "custom",
                     "tokenizer": "comma",
                     "filter": ["lowercase"]
                 }
            }
        },
        "number_of_shards": <%= @number_of_shards %>,
        "number_of_replicas": <%= @number_of_replicas %>
    },
    "template": "<%= @template %>"
}
